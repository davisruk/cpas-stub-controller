<div class="toteMessages">
    <mat-card>
        <mat-card-content>
            <mat-table class="mat-elevation-z8" [dataSource]="dataSource"  matSort matSortActive="creationTime" matSortDirection="asc" matSortDisableClear>
               
                <ng-container matColumnDef="id">
                    <mat-header-cell *matHeaderCellDef>#</mat-header-cell>
                    <mat-cell *matCellDef="let msg">{{msg.id}}</mat-cell>
                </ng-container>
            
                <ng-container matColumnDef="messageType">
                    <mat-header-cell *matHeaderCellDef>Type</mat-header-cell>
                    <mat-cell class="type-cell"
                            *matCellDef="let msg">{{msg.messageType}}</mat-cell>
                </ng-container>
                <ng-container matColumnDef="message">
                    <mat-header-cell *matHeaderCellDef>Message</mat-header-cell>
                    <mat-cell class="message-cell"
                            *matCellDef="let msg">{{formatMessage(msg.message)}}</mat-cell>
                </ng-container>
                <ng-container matColumnDef="creationTime">
                    <mat-header-cell *matHeaderCellDef mat-sort-header>Created</mat-header-cell>
                    <mat-cell class="created-cell"
                            *matCellDef="let msg">{{msg.creationTime}}</mat-cell>
                </ng-container>

                <ng-container matColumnDef="viewMessage">
                    <mat-header-cell  *matHeaderCellDef > View </mat-header-cell>
                    <mat-cell *matCellDef="let msg" >
                         <button *ngIf="showViewButton(msg)" class="mat-elevation-z0" mat-mini-fab matTooltip="View Message" color='primary' (click)="viewClicked($event, msg)">
                             <mat-icon>visibility</mat-icon>
                         </button>
                    </mat-cell>
                  </ng-container>
                <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            
                <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
            
            </mat-table>
        </mat-card-content>
    </mat-card>
</div>
